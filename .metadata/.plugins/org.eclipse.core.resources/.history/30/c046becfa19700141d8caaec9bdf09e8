/**
 * @author Derek Wider
 * Programming Assignment 6
 */
import java.io.FileNotFoundException;
import java.util.Scanner;

public class GameOfLifeDriver {

	public static void main(String[] args) 
	{		
		Scanner in = new Scanner(System.in);
		boolean isFinished = false;
		boolean startGame = true;
		int rows = 0;
		final int defaultRows = 20;
		int columns = 0;
		final int defaultColumns = 20;
		int generations = 0;
		String input = "";
		
		String directory = "C:\\Users\\Derek\\workspace\\JavadWorkspace\\ProgramAssign6\\src";
		String fileName = "FileOne.txt";
		
		Life aGame = new Life();
		System.out.println("Welcome to the Game of Life.");
		while(!isFinished){
			startGame = true;
			System.out.println("Your choices for building the initial grid are as follows:");
			System.out.println("\t(R)andom Grid\n\t(F)ile Input\n\t(P)rebuilt Grid");
			System.out.println("\nPlease input your choice:");
			input = in.next();
			if(input.equalsIgnoreCase("R")){
				System.out.println("Please input the number of rows for the board:");
				rows = in.nextInt();
				System.out.println("Please input the number of columns for the board:");
				columns = in.nextInt();
				aGame.createGrid(rows, columns);
				aGame.randomBuild();
			}
			else if(input.equalsIgnoreCase("F")){
				try{
					aGame.fileInput(directory, fileName);
				}catch (FileNotFoundException e) {
					System.out.println("Please input a correct directory or file name");
					e.printStackTrace();
				}
			}
			else if(input.equalsIgnoreCase("P")){
				aGame.createGrid(defaultRows, defaultColumns);
				aGame.initialGrid();
			}
			else{
				System.out.println("Please input a valid response");
				startGame = false;
			}	
			if(startGame){
				System.out.println("Please input the number of generations to build");
				generations = in.nextInt();
			}
			for(int i = 0; i <= generations && startGame; i++){
				System.out.println(i + ":");
				System.out.println(aGame.toString());
				aGame.next();
			}
			System.out.println("Would you like to play again? (Y)es or (N)o");
			input = in.next();
			if(input.equalsIgnoreCase("y")){
				isFinished = false;
			}
			else{
				isFinished = true;
			}			
		}
		in.close();
	}
}